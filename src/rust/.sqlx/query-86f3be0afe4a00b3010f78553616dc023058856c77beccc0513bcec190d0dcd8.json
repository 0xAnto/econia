{
  "db_name": "PostgreSQL",
  "query": "\n                    UPDATE aggregator.user_history\n                    SET\n                        remaining_size = remaining_size - $1,\n                        total_filled = total_filled + $1,\n                        order_status = CASE remaining_size\n                            WHEN 0 THEN CASE order_status\n                                WHEN 'cancelled' THEN order_status\n                                ELSE 'closed'\n                            END\n                            ELSE order_status\n                        END,\n                        last_updated_at = CASE last_updated_at > $4\n                            WHEN true THEN last_updated_at\n                            ELSE $4\n                        END\n                    WHERE order_id = $2 AND market_id = $3;\n                ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Numeric",
        "Numeric",
        "Numeric",
        "Timestamptz"
      ]
    },
    "nullable": []
  },
  "hash": "86f3be0afe4a00b3010f78553616dc023058856c77beccc0513bcec190d0dcd8"
}
